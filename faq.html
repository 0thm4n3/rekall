
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rekall Memory Forensic Framework</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Rekall Memory Forensic Framework">

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/rekall.css" rel="stylesheet">
    <link href="/css/asciidoc.css" rel="stylesheet">
    <link href="/css/font-awesome.css" rel="stylesheet">
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></sc\
ript>
    <![endif]-->
  </head>

  <body>


  <div class="background">
   <header class="header">
    <div class="navbar navbar-fixed-top navbar-inverse">
     <div class="navbar-inner">
      <div class="container">
       <a class="navbar-brand" href="/"
          style="padding-top: 0px; padding-bottom: 0px;"
          >
          <img src="/img/Rekall-small.png" class="small_logo"></img>
       </a>
       <ul class="nav navbar-nav navbar-collapse collapse">

        <li class="divider-vertical"></li>
        
    <li class="">
     <a href="/index.html">
      Home
     </a>
    </li>
    
        <li class="divider-vertical"></li>
        
    <li class="">
     <a href="/about.html">
      About
     </a>
    </li>
    
        <li class="divider-vertical"></li>
        
    <li class="">
     <a href="/releases.html">
      Releases
     </a>
    </li>
    
        <li class="divider-vertical"></li>
        
    <li class=" dropdown">
     <a class="dropdown-toggle"
      id="dropdownMenuDocumentation"
      data-toggle="dropdown"
      aria-expanded="true">
    Documentation
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuDocumentation">

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/docs/Manual">Manual</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/docs/Developers">Developers</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/docs/GUI">GUI</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/docs/References">References</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/docs/Tools">Tools</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/docs/index.html"></a></li>

  </ul>
 </li>

        <li class="divider-vertical"></li>
        
    <li class=" dropdown">
     <a class="dropdown-toggle"
      id="dropdownMenuDiscuss"
      data-toggle="dropdown"
      aria-expanded="true">
    Discuss
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuDiscuss">

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/Discuss/blog.html">The Rekall Blog</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/Discuss/github.html">GitHub</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/Discuss/index.html"></a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/Discuss/issue.html">Issue Tracker</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/Discuss/mailinglist.html">Mailing List</a></li>

  </ul>
 </li>

        <li class="divider-vertical"></li>
        
    <li class=" dropdown">
     <a class="dropdown-toggle"
      id="dropdownMenuDownloads"
      data-toggle="dropdown"
      aria-expanded="true">
    Downloads
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuDownloads">

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/downloads/Linux">Linux</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/downloads/OSXPmem">OSXPmem</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/downloads/Rekall">Rekall</a></li>

    <li role="presentation"><a role="menuitem" tabindex="-1" href="/downloads/WinPMEM">WinPMEM</a></li>

  </ul>
 </li>

        <li class="divider-vertical"></li>
        
    <li class="active">
     <a href="/faq.html">
      FAQ
     </a>
    </li>
    
       <li>
        <a href="https://github.com/google/rekall/edit/gh-pages/faq.md?message=Describe%20your%20change..."
           data-toggle="tooltip"
           data-placement="bottom"
           title="Improve this page"
           class="improve-docs activate_tooltip">
         <i class="glyphicon glyphicon-edit"></i>
        </a>
       </ul>

       <form class="navbar-search col-md-3 docs-search" role="search"
             action="/search.html">
       <span class="glyphicon glyphicon-search search-icon"></span>
       <input type="text" name="q" data-i-search-input="true"
         class="search-query"
         placeholder="Site Search">
       </form>
      </div>
     </div>
    </div>
   </header>

<div class="container-fluid page-background container">
<div class="main">
  <div class="col-md-2">
    
  </div>

  <div class="col-md-10">
    <h1>Frequently Asked Questions (FAQ).</h1>
<div id="repository"></div>

<h4>Rekall wants to access the internet for each profile, but my machine has no net access?</h4>
<p>Rekall&rsquo;s profile repository is rather large and grows all the time. We dont want
to ship Rekall with hundreds of MB of profile data embedded in the tool. We
therefore access the repository to fetch profiles on demand.</p>
<p>If you dont want to access the internet each time you can copy the entire
profile repository locally and then just use it from your local machine. Since
the profile repository is a git repository you can just check it out:</p>
<div class="highlight"><pre>git clone https://github.com/google/rekall-profiles.git
</pre></div>


<p>You can then just keep it up to date by running:</p>
<div class="highlight"><pre>git pull
</pre></div>


<p>from within this directory. Alternatively you can just download the latest
snapshot as a zip file (you do not need the git tool in that case):</p>
<div class="highlight"><pre>wget https://github.com/google/rekall-profiles/archive/master.zip
</pre></div>


<p>You will now need to edit your ~/.rekallrc file to use your local directory copy
instead of the web copy:</p>
<div class="highlight"><pre>profile_path:
   - /home/scudette/rekall-profiles
   - https://raw.githubusercontent.com/google/rekall-profiles/master
</pre></div>


<div id="profile"></div>

<h4>Rekall fails with &ldquo;Unable to load profile from any repository&rdquo;. What gives?</h4>
<p>Rekall requires accurate profiles to operate. This is similar to the way the
windows kernel debugger works - in order to analyse a windows image, the kernel
debugger needs to obtain debugging symbols from the microsoft debugging server.</p>
<p>Since Rekall now uses indexes in its repository for autodetection you need to
reindex the profile repository after you add a new GUID. This is the preferred
way because Rekall will then be able to autodetect your profile afterwards:</p>
<ol>
<li>The first step is to figure out the precise version of the windows kernel
   this image has. We do this by scanning for the GUID of the <strong>ntoskrnl.exe</strong>
   process from the image itself.</li>
<li>Check out the profile repository as explained above.</li>
<li>Add you new GUID to v1.0/src/guids.txt</li>
<li>Now change directory to the v1.0/ directory.</li>
<li>Run the profile management tool:</li>
</ol>
<div class="highlight"><pre>python ~/rekall/tools/profiles/build_profile_repo.py src/guids.txt
</pre></div>


<p>This will automatically notice the new GUIDs in the file, download them from
Microsoft, parse them and update all indexes. You can send us a pull request to
update the public repository if you like :-).</p>
<p>Alternatively you can just download the pdb file yourself and convert it. This
will work but you will have to provide the new profile through the &ndash;profile
command line arg.</p>
<p>To generate a profile file for an image, simple use the <strong>fetch_pdb</strong> and
<strong>parse_pdb</strong> plugins. For example, suppose you have a memory image which you
are not quite sure what exact version of Windows it is.</p>
<ol>
<li>
<p>The first step is to figure out the precise version of the windows kernel
   this image has. We do this by scanning for the GUID of the <strong>ntoskrnl.exe</strong>
   process from the image itself.</p>
</li>
<li>
<p>We then fetch the debugging symbols (pdb file) for this kernel from
   Microsoft&rsquo;s debug symbols.</p>
</li>
<li>
<p>Finally we convert the pdb file into Rekall&rsquo;s own json format.</p>
</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>rekal -f ~/images/win7.elf version_scan --name ntkrnl
0x0000027bb5fc f8e2a8b5c9b74bf4a6e4a48f180099942 ntkrnlmp.pdb

<span class="nv">$ </span>rekal fetch_pdb --dump-dir . --pdb_filename ntkrnlmp.pdb --guid f8e2a8b5c9b74bf4a6e4a48f180099942
Trying to fetch http://msdl.microsoft.com/download/symbols/ntkrnlmp.pdb/F8E2A8B5C9B74BF4A6E4A48F180099942/ntkrnlmp.pd_
Received <span class="m">2675077</span> bytes
Extracting cabinet: ./ntkrnlmp.pd_
 extracting ntkrnlmp.pdb

All <span class="k">done</span>, no errors.

<span class="nv">$ </span>rekal parse_pdb -f ntkrnlmp.pdb --output ntkrnlmp.json --profile_class Win7x64
<span class="nv">$ </span>rekal --profile ./ntkrnlmp.json -f ~/images/win7.elf pslist
 Offset <span class="o">(</span>V<span class="o">)</span>   Name                    PID   PPID   Thds     Hnds   Sess  Wow64 Start                    Exit
-------------- -------------------- ------ ------ ------ -------- ------ ------ ------------------------ ------------------------
0xfa80008959e0 System                    <span class="m">4</span>      <span class="m">0</span>     <span class="m">84</span>      <span class="m">511</span> ------  False 2012-10-01 21:39:51+0000 -
0xfa8001994310 smss.exe                <span class="m">272</span>      <span class="m">4</span>      <span class="m">2</span>       <span class="m">29</span> ------  False 2012-10-01 21:39:51+0000 -
0xfa8002259060 csrss.exe               <span class="m">348</span>    <span class="m">340</span>      <span class="m">9</span>      <span class="m">436</span>      <span class="m">0</span>  False 2012-10-01 21:39:57+0000 -
0xfa8000901060 wininit.exe             <span class="m">384</span>    <span class="m">340</span>      <span class="m">3</span>       <span class="m">75</span>      <span class="m">0</span>  False 2012-10-01 21:39:57+0000 -
0xfa8000900420 csrss.exe               <span class="m">396</span>    <span class="m">376</span>      <span class="m">8</span>      <span class="m">192</span>      <span class="m">1</span>  False 2012-10-01 21:39:57+0000 -
....
</pre></div>


<p>The same technique can be used to generate symbols for other profiles which
might be needed - for example <strong>tcpip.pdb</strong> or <strong>win32k.pdb</strong>.</p>
  </div>
</div>
</div>
  <div class="footer">
    <div class="container">
      <p class="text-muted">
        &copy; 2015 Google Inc.
        Rekall is licensed under the The GPL License.
        Pmem is licensed under the Apache license.
        <a href="#" class="pull-right text-muted">Back to top</a>
      </p>
    </div>
  </div>

  <script>
   $(".activate_tooltip").tooltip();
  </script>
  </div>
 </body>
</html>

